(()=>{"use strict";var e={83:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasCondition=t.hasVersion=t.hasTags=t.hasName=t.existsCondition=void 0;const o=s(731);t.existsCondition=function(e,t){return void 0===e},t.hasName=function(e,t){return e?.names?.includes(t.name)},t.hasTags=function(e,t){return e?.tags?void 0===e.mode||"exclusive"===e.mode?Boolean(t?.tags?.every((e=>this.query?.tags?.includes(e)))):Boolean(t?.tags?.some((e=>this.query?.tags?.includes(e)))):"unused"},t.hasVersion=function(e,t){return e?.version?(0,o.satisfies)(t.version,e.version):"unused"},t.hasCondition=function(e,t){if(void 0===e.mode||"exclusive"===e.mode){if(Array.isArray(e?.has))return[...t?.has?.blocks||[],...t?.has?.plugins||[]]?.every((t=>e?.has?.includes(t)));if(void 0!==e?.has?.blocks&&t?.has?.blocks?.every((t=>e?.has?.blocks?.includes(t))))return!0;if(void 0!==e?.has?.plugins&&t?.has?.plugins?.every((t=>e?.has?.plugins?.includes(t))))return!0}else{if(Array.isArray(e?.has))return[...t?.has?.blocks||[],...t?.has?.plugins||[]]?.some((t=>e?.has?.includes(t)));if(void 0!==e?.has?.blocks&&t?.has?.blocks?.some((t=>e?.has?.blocks?.includes(t))))return!0;if(void 0!==e?.has?.plugins&&t?.has?.plugins?.some((t=>e?.has?.plugins?.includes(t))))return!0}return!1}},731:(e,t,s)=>{function o(e,t){const s=l(e),o=l(t),n=s.pop(),r=o.pop(),i=h(s,o);return 0!==i?i:n&&r?h(n.split("."),r.split(".")):n||r?n?-1:1:0}s.r(t),s.d(t,{compare:()=>r,default:()=>o,satisfies:()=>i,validate:()=>n});const n=e=>"string"==typeof e&&/^[v\d]/.test(e)&&a.test(e),r=(e,t,s)=>{m(s);const n=o(e,t);return p[s].includes(n)},i=(e,t)=>{const s=t.match(/^([<>=~^]+)/),o=s?s[1]:"=";if("^"!==o&&"~"!==o)return r(e,t,o);const[n,i,a]=l(e),[c,u,p]=l(t);return 0===d(n,c)&&("^"===o?h([i,a],[u,p])>=0:0===d(i,u)&&d(a,p)>=0)};o.validate=n,o.compare=r,o.sastisfies=i;const a=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,l=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(a);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},c=e=>"*"===e||"x"===e||"X"===e,u=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},d=(e,t)=>{if(c(e)||c(t))return 0;const[s,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(u(e),u(t));return s>o?1:s<o?-1:0},h=(e,t)=>{for(let s=0;s<Math.max(e.length,t.length);s++){const o=d(e[s]||0,t[s]||0);if(0!==o)return o}return 0},p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},f=Object.keys(p),m=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===f.indexOf(e))throw new Error(`Invalid operator, expected one of ${f.join("|")}`)}}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=s(83);class t{sources;source;folder;query;maxResults;takeQuery;whereConditions;whereOptionalConditions;constructor(){this.sources={otter:"https://raw.githubusercontent.com/Codeinwp/otter-blocks-qa-templates/main/",robert:"https://raw.githubusercontent.com/Soare-Robert-Daniel/otter-blocks-qa-templates/main/"},this.folder="blocks",this.source="otter",this.whereConditions=[e.existsCondition,e.hasName,e.hasCondition],this.whereOptionalConditions=[e.hasTags,e.hasVersion]}select(e){return this.folder=e,this}where(e){return this.query=e,this}from(e,t){return this.source=e,t&&(this.sources[this.source]=t),this}take(e,t){return this.maxResults=e,this.takeQuery=t,this}async build(){if(void 0===this.source)return void console.warn("The source is undefined! Use '.from()' function to set a source.");if(void 0===this.folder)return void console.warn("The folder is undefined! Use '.select()' function to set a folder.");const e=`${this.sources[this.source]}/${this.folder}`,t=await fetch(`${e}/index.json`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return void console.warn("The repo does not exists!");let s=(await t.json())?.files?.filter((e=>this.whereConditions.some((t=>t(this.query,e)))))?.filter((e=>{const t=this.whereOptionalConditions.map((t=>t(this.query,e))).filter((e=>"unused"===e));return!(t?.length>0)||t.some((e=>e))}));return this.takeQuery?.shuffle&&(s=s?.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))),this.maxResults&&(s=s?.slice(0,this.maxResults)),{files:s,urls:s?.map((({name:t})=>`${e}/${t}.json`))}}async test(){const{urls:e,files:t}=await this.build()||{urls:[]};console.groupCollapsed(`Fetching ${e?.length} files!`),console.table(t.map((({name:e})=>e))),console.groupEnd(),e?.forEach(((e,t)=>{try{setTimeout((()=>{fetch(e,{method:"GET",headers:{Accept:"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Status code error: "+e.status)})).then((s=>{s&&console.log(`%c[Block ${t}] ${e}`,"color: green;")}))}),10*Math.floor(10*Math.random()))}catch(e){console.error(e)}}))}async run(){const{urls:e,files:t}=await this.build()||{urls:[]};console.groupCollapsed(`Fetching ${e?.length} files!`),console.table(t.map((({name:e})=>e))),console.groupEnd(),e?.forEach((e=>{try{setTimeout((()=>{fetch(e,{method:"GET",headers:{Accept:"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Status code error: "+e.status)})).then((t=>{if(window.wp){const s=wp?.blocks?.parse(t?.content);s?wp?.data?.dispatch("core/block-editor")?.insertBlocks(s):console.warn("Invalid block: "+e)}else console.log("File loaded: "+e)}))}),10*Math.floor(10*Math.random()))}catch(e){console.error(e)}}))}createUI(){const e=document.querySelector("#editor div.edit-post-header__settings");if(!e)return;const t=document.createElement("button"),s=document.createElement("button"),o=document.createElement("input"),n=document.createElement("a");s.innerText="Quick",s.style.marginRight="5px",s.style.padding="5px 10px",s.style.fontWeight="700",s.onclick=()=>{Function(o.value)(),navigator.clipboard.readText().then((e=>{o.value=e,Function(e)()}))},e.insertBefore(s,e.firstChild),t.innerText="Run",t.style.margin="0px 5px",t.style.padding="5px 10px",t.onclick=()=>{Function(o.value)()},e.insertBefore(t,e.firstChild),o.placeholder="Paste the query. v0.1",o.style.minWidth="250px",o.style.padding="5px",e.insertBefore(o,e.firstChild),n.href="https://github.com/Codeinwp/otter-query-engine/blob/master/README.md#usage",n.target="_blank",n.innerHTML='<svg width="24px" height="24px" style="position: absolute" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8,3 L8,17 L19,17 L19,3.5 C19,3.22385763 18.7761424,3 18.5,3 L8,3 Z M7,3 L6.5,3 C5.67157288,3 5,3.67157288 5,4.5 L5,17.4998169 C5.41783027,17.1859724 5.93719704,17 6.5,17 L7,17 L7,3 Z M4.15121433,20.3582581 C4.05793442,20.2674293 4,20.1404803 4,20 L4,4.5 C4,3.11928813 5.11928813,2 6.5,2 L18.5,2 C19.3284271,2 20,2.67157288 20,3.5 L20,20.5 C20,21.3284271 19.3284271,22 18.5,22 L6.5,22 C5.42082093,22 4.50134959,21.3162099 4.15121433,20.3582581 L4.15121433,20.3582581 Z M19,18 L6.5,18 C5.67157288,18 5,18.6715729 5,19.5 C5,20.3284271 5.67157288,21 6.5,21 L18.5,21 C18.7761424,21 19,20.7761424 19,20.5 L19,18 Z M10.5,10 C10.2238576,10 10,9.77614237 10,9.5 C10,9.22385763 10.2238576,9 10.5,9 L16.5,9 C16.7761424,9 17,9.22385763 17,9.5 C17,9.77614237 16.7761424,10 16.5,10 L10.5,10 Z M10.5,8 C10.2238576,8 10,7.77614237 10,7.5 C10,7.22385763 10.2238576,7 10.5,7 L14.5,7 C14.7761424,7 15,7.22385763 15,7.5 C15,7.77614237 14.7761424,8 14.5,8 L10.5,8 Z"/>\n</svg>\n',n.style.display="inline-flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.textDecoration="none",n.style.marginRight="5px",n.style.padding="5px 10px",e.insertBefore(n,e.firstChild)}}if(window||globalThis){const e=window||globalThis;e.QueryQA=t,e.queryQA=new t,setTimeout((()=>{(new t).createUI()}),1e3)}})()})();