(()=>{"use strict";var e={731:(e,t,s)=>{function r(e,t){const s=l(e),r=l(t),o=s.pop(),i=r.pop(),n=d(s,r);return 0!==n?n:o&&i?d(o.split("."),i.split(".")):o||i?o?-1:1:0}s.r(t),s.d(t,{compare:()=>i,default:()=>r,satisfies:()=>n,validate:()=>o});const o=e=>"string"==typeof e&&/^[v\d]/.test(e)&&a.test(e),i=(e,t,s)=>{f(s);const o=r(e,t);return p[s].includes(o)},n=(e,t)=>{const s=t.match(/^([<>=~^]+)/),r=s?s[1]:"=";if("^"!==r&&"~"!==r)return i(e,t,r);const[o,n,a]=l(e),[u,c,p]=l(t);return 0===h(o,u)&&("^"===r?d([n,a],[c,p])>=0:0===h(n,c)&&h(a,p)>=0)};r.validate=o,r.compare=i,r.sastisfies=n;const a=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,l=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(a);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},u=e=>"*"===e||"x"===e||"X"===e,c=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},h=(e,t)=>{if(u(e)||u(t))return 0;const[s,r]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(c(e),c(t));return s>r?1:s<r?-1:0},d=(e,t)=>{for(let s=0;s<Math.max(e.length,t.length);s++){const r=h(e[s]||0,t[s]||0);if(0!==r)return r}return 0},p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},y=Object.keys(p),f=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===y.indexOf(e))throw new Error(`Invalid operator, expected one of ${y.join("|")}`)}}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=s(731);class t{sources;source;folder;query;maxResults;takeQuery;constructor(){this.sources={otter:"https://raw.githubusercontent.com/Codeinwp/otter-blocks-qa-templates/main/",robert:"https://raw.githubusercontent.com/Soare-Robert-Daniel/otter-blocks-qa-templates/main/"},this.folder="blocks",this.source="otter"}select(e){return this.folder=e,this}where(e){return this.query=e,this}from(e,t){return this.source=e,t&&(this.sources[this.source]=t),this}take(e,t){return this.maxResults=e,this.takeQuery=t,this}async build(){if(void 0===this.source)return void console.warn("The source is undefined! Use '.from()' function to set a source.");if(void 0===this.folder)return void console.warn("The folder is undefined! Use '.select()' function to set a folder.");const t=`${this.sources[this.source]}/${this.folder}`,s=await fetch(`${t}/index.json`,{method:"GET",headers:{Accept:"application/json"}});if(!s.ok)return void console.warn("The repo does not exists!");let r=(await s.json())?.files?.filter((t=>{if(void 0===this.query)return!0;if(this.query?.names?.includes(t.name))return!0;let s=!Boolean(this.query?.names)||!Boolean(this.query?.has||!Boolean(this.query?.tags)||!Boolean(this.query?.version));return void 0===this.query.mode||"exclusive"===this.query.mode?Array.isArray(this.query?.has)?s=[...t?.has?.blocks||[],...t?.has?.plugins||[]]?.every((e=>this.query?.has?.includes(e))):(void 0!==this.query?.has?.blocks&&t?.has?.blocks?.every((e=>this.query?.has?.blocks?.includes(e)))&&(s=!0),void 0!==this.query?.has?.plugins&&t?.has?.plugins?.every((e=>this.query?.has?.plugins?.includes(e)))&&(s=!0)):Array.isArray(this.query?.has)?s=[...t?.has?.blocks||[],...t?.has?.plugins||[]]?.some((e=>this.query?.has?.includes(e))):(void 0!==this.query?.has?.blocks&&t?.has?.blocks?.some((e=>this.query?.has?.blocks?.includes(e)))&&(s=!0),void 0!==this.query?.has?.plugins&&t?.has?.plugins?.some((e=>this.query?.has?.plugins?.includes(e)))&&(s=!0)),this.query?.tags&&(s=void 0===this.query.mode||"exclusive"===this.query.mode?s&&Boolean(t?.tags?.every((e=>this.query?.tags?.includes(e)))):s&&Boolean(t?.tags?.some((e=>this.query?.tags?.includes(e))))),this.query?.version&&(s=s&&(0,e.satisfies)(t.version,this.query.version)),s}));return this.takeQuery?.shuffle&&(r=r?.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))),this.maxResults&&(r=r?.slice(0,this.maxResults)),{files:r,urls:r?.map((({name:e})=>`${t}/${e}.json`))}}async run(){const{urls:e,files:t}=await this.build()||{urls:[]};console.groupCollapsed(`Fetching ${e?.length} files!`),console.table(t.map((({name:e})=>e))),console.groupEnd(),e?.forEach((e=>{try{setTimeout((()=>{fetch(e,{method:"GET",headers:{Accept:"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Status code error: "+e.status)})).then((t=>{if(window.wp){const s=wp?.blocks?.parse(t?.content);s?wp?.data?.dispatch("core/block-editor")?.insertBlocks(s):console.warn("Invalid block: "+e)}else console.log("File loaded: "+e)}))}),10*Math.floor(10*Math.random()))}catch(e){console.error(e)}}))}createUI(){const e=document.querySelector("#editor div.edit-post-header__settings");if(!e)return;const t=document.createElement("button"),s=document.createElement("button"),r=document.createElement("input"),o=document.createElement("a");s.innerText="Quick",s.style.marginRight="5px",s.style.padding="5px 10px",s.style.fontWeight="700",s.onclick=()=>{Function(r.value)(),navigator.clipboard.readText().then((e=>{r.value=e,Function(e)()}))},e.insertBefore(s,e.firstChild),t.innerText="Run",t.style.margin="0px 5px",t.style.padding="5px 10px",t.onclick=()=>{Function(r.value)()},e.insertBefore(t,e.firstChild),r.placeholder="Paste the query",r.style.minWidth="250px",r.style.padding="5px",e.insertBefore(r,e.firstChild),o.href="https://github.com/Codeinwp/otter-query-engine/blob/master/README.md",o.target="_blank",o.innerHTML='<svg width="24px" height="24px" style="position: absolute" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8,3 L8,17 L19,17 L19,3.5 C19,3.22385763 18.7761424,3 18.5,3 L8,3 Z M7,3 L6.5,3 C5.67157288,3 5,3.67157288 5,4.5 L5,17.4998169 C5.41783027,17.1859724 5.93719704,17 6.5,17 L7,17 L7,3 Z M4.15121433,20.3582581 C4.05793442,20.2674293 4,20.1404803 4,20 L4,4.5 C4,3.11928813 5.11928813,2 6.5,2 L18.5,2 C19.3284271,2 20,2.67157288 20,3.5 L20,20.5 C20,21.3284271 19.3284271,22 18.5,22 L6.5,22 C5.42082093,22 4.50134959,21.3162099 4.15121433,20.3582581 L4.15121433,20.3582581 Z M19,18 L6.5,18 C5.67157288,18 5,18.6715729 5,19.5 C5,20.3284271 5.67157288,21 6.5,21 L18.5,21 C18.7761424,21 19,20.7761424 19,20.5 L19,18 Z M10.5,10 C10.2238576,10 10,9.77614237 10,9.5 C10,9.22385763 10.2238576,9 10.5,9 L16.5,9 C16.7761424,9 17,9.22385763 17,9.5 C17,9.77614237 16.7761424,10 16.5,10 L10.5,10 Z M10.5,8 C10.2238576,8 10,7.77614237 10,7.5 C10,7.22385763 10.2238576,7 10.5,7 L14.5,7 C14.7761424,7 15,7.22385763 15,7.5 C15,7.77614237 14.7761424,8 14.5,8 L10.5,8 Z"/>\n</svg>\n',o.style.display="inline-flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.textDecoration="none",o.style.marginRight="5px",o.style.padding="5px 10px",e.insertBefore(o,e.firstChild)}}if(window||globalThis){const e=window||globalThis;e.QueryQA=t,e.queryQA=new t,setTimeout((()=>{(new t).createUI()}),1e3)}})()})();